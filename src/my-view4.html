<!--
    @license
    Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
    -->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="shared-styles.html">
<dom-module id="my-view4">
    <template>
        <style include="shared-styles">
            :host {
            display: block;
            padding: 10px;  
            }
            iron-image {
            width: 100%;
            height: 90%;
            border-radius: 5px;
            }
            paper-fab {
            position: fixed;
            bottom: 60px;
            right: 25px;
            background-color: var(--app-primary-color);
            }
            paper-material {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 80px;
            right: 0;
            margin: auto;
            width: 80%;
            height: 55%;
            padding: 10px;
            border-radius: 5px;
            background-color: var(--app-secondary-color);
            }
            .descReto {
              font-size: larger;
              color: var(--app-primary-color);
              padding: 10px;
            }
        </style>
        <paper-material elevation="3">
            <span class="descReto">[[descripcionReto]]</span>
            <iron-image src="{{enlaceImagen}}" sizing="cover"></iron-image>
        </paper-material>
        <paper-fab icon="communication:swap-calls" on-tap="_pickRandomProperty"></paper-fab>
    </template>
    <script>
        Polymer({
          is: 'my-view4',
          properties : {
            items: {
              type: Array,
                    value: function() {
                      return [{descripcion: 'Penales rebaladizos',
                                imagen: 'https://i.ytimg.com/vi/60woL8nwaUg/maxresdefault.jpg'},
                                {descripcion: 'Tiros largos',
                                imagen: 'http://cheekysport.com/wp-content/uploads/2016/04/epic-basketball-challenges-750x350.jpg'},
                                {descripcion: 'Levantar peso',
                                imagen: 'http://assets3.tribesports.com/system/challenges/images/000/000/757/original/20110620152129-gym-challenge-388-rep-pyramid-circuit-1200m-rower.jpg'},
                                {descripcion: 'Escalar volcan Barva',
                                imagen: 'http://www.gannett-cdn.com/-mm-/bbfdc48b842ea90cf34c2505536c126dfb2b6af0/c=0-0-3000-2250&r=x404&c=534x401/local/-/media/Nashville/2015/02/23/B9316301581Z.1_20150223112346_000_GVDA0BBPV.1-0.jpg'}
                              ]
                    }
            }
          },
          ready: function() {
              this._pickRandomProperty();
          },
          _pickRandomProperty: function(obj) {
            var obj = this.items;
            var result;
            var count = 0;
            for (var prop in obj)
            if (Math.random() < 1 / ++count)
            result = obj[prop];
            this.enlaceImagen =  result.imagen;  
            this.descripcionReto = result.descripcion;
            //return result;
          }
        });
    </script>
</dom-module>